import{_ as T,d as X,u as ns,r as o,o as ls,a as Y,b as a,c as u,e as t,t as i,f as x,g,w as V,v as G,h as m,i as d,j as f,k as C,l as r,n as N,m as M,T as Q,p as os,q as is}from"./index-16381e0d.js";import{u as us,_ as W,a as _,H as cs}from"./useLendingPool-dd72a023.js";const j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAq9JREFUSEu9lU1IlFEUht9zJ/sxLYpqnBn6MQsKo03RJinKNlFtokIzx1oJrQ2coVXIjFDrQAjKL0upaNEu0iChRdQiRKMgs4j8ZrQf8Qe1nPvG/WRkZvpmpsHoLu895zz3nnPueQU5VtnN5i3iUbVCVAOshGC9MRfICMkBijzVUF3xYMtQtjDidmACe5RcJeSkCFSuS5DQEN5LwBN2A/0B8N1urhNKm0BW5gqceUZgEkDjcDByN/UsDeCzwiEFRAoJnGmrgbAdjEST+wsAvxU+K8CdxQRP+mrR5+z6VieWA/Bal8s90H0ClPwLAMEpneCu2IXWjw7Ab4U6BVKTGnzfuk3oOFj/V7wXo59Q39uRZqvJB3ZD9LQ4t6d+n9ktiwWY7tJaV0i2wi4WYJ5jCi7+9tATETmSLxepQLeUuPmT7JGAFR4G4MsGUCIoW16KKu9WtOw55pgN/LDR9PIR4tMTmJybzXo3kjHxW6E5gXhSrZYqD45vrHS2NInY9DgCxasR3XvC2ev7/gVXXj+Gd8UqlBYtwxJR6B+z8WYsngYjmHAFHA3sxLvxEXyY+LbgkC9FF3fsx/W3z10A7SFbRMoyv/ch33asXVoMDYIASGJzyRqQwNTcLOIzkzAvVWb0ieBZbBAjMxMZ6aJtitwtItX5inzAW4EbVfNf5dXXz2jo7cAv6pxuJLuztmmmZ74UuZGcNjWjWSk1mG8sFwowHy0hapszKgLtofsQOZXrvQUDwK7hYLTWAcy/QvpFsmtAIQCjDQn83B0PXhtaGNe+W811Sqn0iZWv8lnOCdQlhef/CU7yMkZ4ALQVqg0kp0g22ufnhSa5XEXfazWVe1AUAeVMvu4y3SLgw4TmJSMwmVlzBSSNjFYo6BohD4tIJcENzhkxCsgABT1M6E63wMkYvwGHJj6hms4+sQAAAABJRU5ErkJggg==",ds="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAplJREFUSEu9lulrFFEQxH/ljYLGAw9QI963KCqKIijoPy0oiKIoqIlnYiJGhWwkMVGId9JS45vl7Tq7kxXMg/2wM2+6+qiublFzImIpsBXYDKwDVgHLgF/AN+AT8AGYkORnlUedXkSEje0BdgHL6xxKwG+AkSrASqCI2AicTN4HMAWMAx+BL5LmUqRrgPXANmBTcsZRPpLkb5rnL6CI2A4cB5Ykw08lfa6LKCL6gCMJ2M4NSHpfftcCFBH27BTg568kDdUBtL+PiAPAPsBgDyU5E4XB4kSE03AJcPFfShrpFSSztRc4CMwBtyTN5kDnAdfmnaSBCk93A/bWXk5ExJYUffG/4v4JYAcwKeleARQRLuQ54AdwI2dNRPjOUaA/GRuWNBwR+wH/iv8VQGbtZWAl0AQ6nXrlhaTRLAW+7Jq5h8qzIKAUgLNwGGgo0fRaYtl1SY7KUboxzwJrU2POJGd6AXL/XbU5A7kurs+MpNtZNKU3pvaDlO9mqupSl9m5YMobyLk/BryVNNiWNtN93DVrN9wDkG33G8icN5sqi5oBtxS/B6Diu0UFKlM3JulJpyatS10S4Waqs0xYznbmZJiWdOdfgNzkwJnE0OeSXmdAF4G+nN5uTNP7ZxVYl4gaNpSU3gy9L8kK7hZZkeg9XypD2bAt3uSAXYDKax5+lqPm8IsIz7NDRcO2SdB34GbV4KoBGgM8TqzYpUhbVa4AjuqPBCUwa501r5OotohoJqpDeU0ye6WoTkm6u/hjIkX1/wdfFrJHucN2tNPAM0kW1K4nIiy+HicbgHlgsOMoz8Dy5cSPJ9NyYuDZbDlZnQw7E/7Gzn0FHtcuJ22s8Uj2umUG1R33n9et0QWvW239YxAzrm6BbDjSTt78BnHUn/DdvgxiAAAAAElFTkSuQmCC";const z=k=>(os("data-v-66f54f1a"),k=k(),is(),k),rs={class:"box"},vs={class:"price-line"},As={key:0,src:W,class:"price-img"},ps={key:1,src:j,class:"price-img"},gs={class:"price-text"},_s={class:"price"},ms={class:"input-box"},hs={class:"input-btn"},fs=r("25%"),ks=r("50%"),ws=r("75%"),bs=r("MAX"),Us=z(()=>t("img",{src:ds,class:"change-img"},null,-1)),Ss=[Us],Ms={class:"price-line"},ys={key:0,src:W,class:"price-img"},Bs={key:1,src:j,class:"price-img"},xs={class:"price-text"},Ns={class:"price"},Cs={class:"input-box"},Ds={key:0,class:"btn-group"},Rs={key:1,class:"btn-group"},Es={key:2,class:"serial-no"},Is=z(()=>t("div",{class:"line"},null,-1)),Js={key:3,class:"serial-no"},Fs=z(()=>t("div",{class:"line"},null,-1)),Ls=X({setup(k){const{t:w}=ns(),{usdtAddress:b,musdAddress:y,deposit:D,withdraw:K}=us(),n=o(!0),P=()=>{n.value=!n.value},v=o(!1),R=o(!1),U=o(0),E=o(!0),q=async()=>{const{isApprove:s}=_(b());v.value=await s(M.lendingPool),v.value&&(E.value=!1)},H=async()=>{const{approve:s}=_(b());R.value=!0;const e=await s(M.lendingPool);R.value=!1,e.success&&(v.value=!0)},I=async()=>{const{balanceOf:s}=_(b()),e=await s();!e.success||(U.value=e.result,console.log(U.value))},Z=o(0),O=async()=>{const{balanceOfAccount:s}=_(b()),e=await s(M.lendingPool);!e.success||(Z.value=g(e.result))},A=o(!1),J=o(!1),S=o(0),F=o(!0),$=async()=>{const{isApprove:s}=_(y());A.value=await s(M.lendingPool),A.value&&(F.value=!1)},ss=async()=>{const{approve:s}=_(y());J.value=!0;const e=await s(M.lendingPool);J.value=!1,e.success&&(A.value=!0)},L=async()=>{const{balanceOf:s}=_(y()),e=await s();!e.success||(S.value=e.result,console.log(S.value))},l=o(null),B=s=>{l.value=n.value?g(s*U.value):g(s*S.value)},h=o(!1),es=async()=>{if(!l.value)return Q(w("musd.inputTips"));h.value=!0;const s=await D(l.value);h.value=!1,s.success&&(l.value=0,I(),L())},ts=async()=>{if(!l.value)return Q(w("musd.inputTips"));h.value=!0;const s=await K(l.value);h.value=!1,s.success&&(l.value=0,I(),L())},as=()=>{q(),$(),I(),L(),O()};return ls(async()=>{as()}),(s,e)=>{const c=Y("VanButton");return a(),u("div",rs,[t("div",vs,[n.value?(a(),u("img",ps)):(a(),u("img",As)),t("div",gs,i(n.value?"USDT":"MUSD"),1),t("div",_s,i(s.$t("musd.balance"))+"\uFF1A"+i(n.value?x(g)(U.value):x(g)(S.value)),1)]),t("div",ms,[V(t("input",{placeholder:"0.00",class:"input","onUpdate:modelValue":e[0]||(e[0]=p=>l.value=p)},null,512),[[G,l.value]]),t("div",hs,[m(c,{class:"btn",onClick:e[1]||(e[1]=p=>B(.25))},{default:d(()=>[fs]),_:1}),m(c,{class:"btn",onClick:e[2]||(e[2]=p=>B(.5))},{default:d(()=>[ks]),_:1}),m(c,{class:"btn",onClick:e[3]||(e[3]=p=>B(.75))},{default:d(()=>[ws]),_:1}),m(c,{class:"btn",onClick:e[4]||(e[4]=p=>B(1))},{default:d(()=>[bs]),_:1})])]),t("div",{class:"change-box",onClick:P},Ss),t("div",Ms,[n.value?(a(),u("img",ys)):(a(),u("img",Bs)),t("div",xs,i(n.value?"MUSD":"USDT"),1),t("div",Ns,i(s.$t("musd.balance"))+"\uFF1A"+i(n.value?x(g)(S.value):x(g)(U.value)),1)]),t("div",Cs,[V(t("input",{placeholder:"0.00",class:"input","onUpdate:modelValue":e[5]||(e[5]=p=>l.value=p),disabled:""},null,512),[[G,l.value]])]),f(` <div class="tips" v-if="!isExchangeMusd">{{$t('musd.liquidity')}}\uFF1A{{ usdtMobility }}</div> `),n.value?(a(),u("div",Ds,[E.value?(a(),C(c,{key:0,class:"btn-item margin",disabled:v.value,onClick:H,loading:R.value},{default:d(()=>[r(i(s.$t("musd.approve",{tokenName:"USDT"})),1)]),_:1},8,["disabled","loading"])):f("v-if",!0),m(c,{class:"btn-item btn-right",disabled:!v.value||!l.value,onClick:es,loading:h.value},{default:d(()=>[r(i(s.$t("musd.exchange")),1)]),_:1},8,["disabled","loading"])])):n.value?f("v-if",!0):(a(),u("div",Rs,[F.value?(a(),C(c,{key:0,class:"btn-item margin",disabled:A.value,onClick:ss,loading:J.value},{default:d(()=>[r(i(s.$t("musd.approve",{tokenName:"MUSD"})),1)]),_:1},8,["disabled","loading"])):f("v-if",!0),m(c,{class:"btn-item btn-right",disabled:!A.value||!l.value,onClick:ts,loading:h.value},{default:d(()=>[r(i(s.$t("musd.exchange")),1)]),_:1},8,["disabled","loading"])])),n.value&&E.value?(a(),u("div",Es,[t("div",{class:N(["no",{active:!v.value}])},"1",2),Is,t("div",{class:N(["no",{active:v.value}])},"2",2)])):!n.value&&F.value?(a(),u("div",Js,[t("div",{class:N(["no",{active:!A.value}])},"1",2),Fs,t("div",{class:N(["no",{active:A.value}])},"2",2)])):f("v-if",!0)])}}}),zs=T(Ls,[["__scopeId","data-v-66f54f1a"],["__file","/Users/wangkeai/work/xueyan/mai/FullReturn/src/view/musd/components/ExchangeModule.vue"]]);const Vs={class:"wrapper"},Gs={class:"content"},Qs=X({setup(k){const w=o(0);return(b,y)=>{const D=Y("TreasuryBillModule");return a(),u("div",Vs,[m(cs,{activeIndex:0}),t("div",Gs,[w.value===0?(a(),C(zs,{key:0})):w.value===2?(a(),C(D,{key:1})):f("v-if",!0)])])}}}),Ys=T(Qs,[["__scopeId","data-v-3100c71e"],["__file","/Users/wangkeai/work/xueyan/mai/FullReturn/src/view/musd/Musd.vue"]]);export{Ys as default};
